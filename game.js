var FieldLayer=cc.Layer.extend({_chara:null,ctor:function(){this._super()},init:function(){this._super();var e=cc.director.getWinSize(),c=cc.p(e.width/2,e.height/2);_chara=new cc.Sprite(res.chara),_chara.vy=-10,_chara.setPosition(c),this.addChild(_chara),cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:!0,onTouchBegan:this.onTouch},this),this.scheduleUpdate()},update:function(){_chara.y>0&&(_chara.y=_chara.y+_chara.vy,_chara.vy+=-.05)},onTouch:function(){_chara.vy=3}}),GameLayer=cc.Layer.extend({ctor:function(){this._super()},init:function(){this._super();var e=cc.director.getWinSize(),c=cc.p(e.width/2,e.height/2),n=new cc.Sprite(res.background);n.setPosition(c),this.addChild(n)}}),GameScene=cc.Scene.extend({onEnter:function(){this._super();var e=new GameLayer;e.init(),this.addChild(e,0);var c=new FieldLayer;c.init(),this.addChild(c,1)}});window.onload=function(){cc.game.onStart=function(){cc.LoaderScene.preload(g_resources,function(){cc.director.runScene(new MenuScene)},this)},cc.game.run("gameCanvas")};var MenuLayer=cc.Layer.extend({ctor:function(){this._super()},init:function(){this._super();var e=cc.director.getWinSize(),c=cc.p(e.width/2,e.height/2),n=new cc.Sprite(res.background);n.setPosition(c),this.addChild(n);var i=new cc.MenuItemLabel(new cc.LabelTTF("start","Arial",30),this.onPlay,this),a=new cc.Menu;a.addChild(i),a.setPosition(c),this.addChild(a)},onPlay:function(){cc.log("==onplay clicked"),cc.director.runScene(new GameScene)}}),MenuScene=cc.Scene.extend({onEnter:function(){this._super();var e=new MenuLayer;e.init(),this.addChild(e)}}),res={background:"res/background.png",chara:"res/chara.png"},g_resources=[res.background,res.chara];